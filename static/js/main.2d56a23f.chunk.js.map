{"version":3,"sources":["components/Chat/Chat.js","icons/onlineIcon.png","components/TextContainer/TextContainer.js","components/Additions/dateFormatter.js","components/Messages/Message/Message.js","components/Additions/fileNameFormatter.js","components/FileSave/FileSave.js","components/ImageShower/ImageShower.js","components/Messages/Messages.js","components/InfoBar/InfoBar.js","components/Input/Input.js","components/FileSpawn/FileSpawn.js","App.js","index.js"],"names":["socket","userName","TextContainer","users","closeModal","className","src","process","alt","onClick","e","a","style","cursor","map","name","onlineIcon","date","oldDate","Date","currentDate","getFullYear","getMonth","getDay","toLocaleTimeString","hour","minute","day","month","year","Message","message","text","user","type","isSentByCurrentUser","trim","findUrl","textToFind","out","replace","url","old","ReactHtmlParser","dateFormatter","fileName","filename","substring","lastIndexOf","ext","length","slice","FileSave","href","fileNameFormatter","ImageShower","target","Messages","messages","loadOld","emit","i","InfoBar","test","event","preventDefault","props","openModal","this","room","userscount","Component","fileInLoadKey","Input","sendMessageFunction","inputField","document","getElementsByClassName","setMessageType","focus","console","log","setMessage","sendMessage","onChangeHandler","formatingFile","files","alert","size","setSelectedFile","uploadFile","onKeyboardPressed","items","clipboardData","originalEvent","index","JSON","stringify","item","kind","blobs","getAsFile","file","sasURL","blobServiceClient","BlobServiceClient","containerClient","getContainerClient","blobName","getTime","blockBlobClient","getBlockBlobClient","uploadData","uploadBlobResponse","setFileName","sendFile","inputs","querySelector","value","setLoaded","clientRequestId","placeholder","onKeyPress","key","onChange","onPaste","hidden","click","FileSpawn","selectedFile","filesArray","f","lastModified","id","curLoadedcount","IsOpen","Chat","location","useState","loaded","messageType","messageDate","setMessageDate","setName","setRoom","setUsers","setMessages","React","modalIsOpen","setIsOpen","ENDPOINT","useEffect","queryString","parse","search","room_id","secret","io","error","on","col","sendDate","getElementById","play","_","unionBy","window","addEventListener","innerWidth","status","preload","isOpen","onRequestClose","contentLabel","ariaHideApp","Fragment","App","path","exact","component","ReactDOM","render"],"mappings":"2VAaIA,EAEAC,E,sICfW,m4ECmCAC,G,OA9BO,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,MAAOC,EAAiB,EAAjBA,WAC9B,OACE,sBAAKC,UAAU,gBAAf,UACE,qBACEC,IAAKC,2CACLC,IAAI,QACJH,UAAU,gBACVI,QAAO,uCAAE,WAAOC,GAAP,SAAAC,EAAA,sDACPP,IADO,2CAAF,sDAGPQ,MAAO,CAAEC,OAAQ,aAElBV,EACC,gCACE,uEACA,qBAAKE,UAAU,kBAAf,SACE,6BACGF,EAAMW,KAAI,gBAAGC,EAAH,EAAGA,KAAH,OACT,sBAAgBV,UAAU,aAA1B,UACGU,EACD,qBAAKP,IAAI,cAAcF,IAAKU,MAFpBD,aAQhB,U,kBC9BK,G,OAAA,SAACE,GACZ,IACIC,EAAU,IAAIC,KAAKF,GACnBG,EAAc,IAAID,KAWtB,OAVGD,EAAQG,gBAAkBD,EAAYC,cAClCH,EAAQI,aAAeF,EAAYE,YAAcJ,EAAQK,WAAaH,EAAYG,SAC7EL,EAAQM,mBAAmB,GAAI,CAACC,KAAM,UAAWC,OAAO,YAExDR,EAAQM,mBAAmB,GAAI,CAACG,IAAK,UAAUC,MAAO,QAAUH,KAAM,UAAWC,OAAO,YAG5FR,EAAQM,mBAAmB,GAAI,CAACG,IAAK,UAAUC,MAAO,QAAUH,KAAM,UAAWI,KAAM,UAAWH,OAAO,c,kBC0CtGI,EAhDC,SAAC,GAAmD,IAAD,IAAhDC,QAAWC,EAAqC,EAArCA,KAAMC,EAA+B,EAA/BA,KAAYhB,GAAmB,EAAzBiB,KAAyB,EAAnBjB,MAC1CkB,GAAsB,EAItBF,IAL6D,EAAXlB,KAG7BqB,SAGvBD,GAAsB,GAGxB,IAAME,EAAU,SAACC,GACf,IAEIC,EAAMD,EAAWE,QAFN,qHAEwB,SAAUC,GAC/C,IAAIC,EAAMD,EACAA,EAAID,QAAQ,QAAQ,IAG9B,OAFMC,EAAID,QAAQ,OAAO,IAElB,kCADDC,EAAID,QAAQ,MAAM,SACyB,qBAAuBE,EAAM,UAIhF,OAAOC,IAAgBJ,IAGzB,OAAOJ,EACL,qBAAK9B,UAAU,8BAAf,SACE,sBAAKA,UAAU,4BAAf,UACE,mBAAGA,UAAU,iCAAb,SACCgC,EAAQL,KAET,qBAAK3B,UAAU,OAAf,SACE,mBAAGA,UAAU,sBAAb,SAAoCuC,EAAc3B,YAKxD,qBAAKZ,UAAU,gCAAf,SACE,sBAAKA,UAAU,6BAAf,UACE,mBAAGA,UAAU,WAAb,SAAyB4B,IACzB,mBAAG5B,UAAU,yBAAb,SAAuCgC,EAAQL,KAC/C,qBAAK3B,UAAU,QAAf,SACE,mBAAGA,UAAU,mBAAb,SAAiCuC,EAAc3B,aC9C1C,G,OAAA,SAAC4B,GAEZ,IAAIC,EAAWD,EAASE,UAAU,EAAGF,EAASG,YAAY,MACtDC,EAAMJ,EAASE,UAAUF,EAASG,YAAY,MAWlD,OATIF,EAASI,OAAS,KACpBJ,EACAA,EAASK,MAAM,EAAG,IAAM,OAIXL,EAAWG,IC4CfG,EAlDE,SAAC,GAAiD,IAAD,IAA9CrB,QAAWC,EAAmC,EAAnCA,KAAMC,EAA6B,EAA7BA,KAAUhB,GAAmB,EAAxBiB,KAAwB,EAAnBjB,MAEzCkB,GAAsB,EAQ1B,OAJIF,IAN4D,EAAXlB,KAI5BqB,SAGvBD,GAAsB,GAGjBA,EACL,qBAAK9B,UAAU,8BAAf,SAEE,sBAAKA,UAAU,4BAAf,UACE,mBAAGgD,KAAI,kBAAa9C,UAAb,kCAAiFA,YAAjF,YAAyHyB,GAAhI,SACE,+BACE,oBAAG3B,UAAU,yBAAb,UACG,IACD,mBAAGA,UAAU,wBACZiD,EAAkBtB,UAIzB,qBAAK3B,UAAY,OAAjB,SACE,mBAAGA,UAAY,sBAAf,SAAsCuC,EAAc3B,YAK1D,qBAAKZ,UAAU,gCAAf,SACE,sBAAKA,UAAU,6BAAf,UACA,mBAAGA,UAAU,WAAb,SAAyB4B,IACvB,mBAAGoB,KAAI,kBAAa9C,UAAb,kCAAiFA,YAAjF,YAAyHyB,GAAhI,SACE,+BACE,oBAAG3B,UAAU,wBAAb,UACG,IACD,mBAAGA,UAAU,wBACZiD,EAAkBtB,UAIzB,qBAAK3B,UAAY,QAAjB,SACE,mBAAGA,UAAY,mBAAf,SAAmCuC,EAAc3B,aCF5CsC,G,OAvCK,SAAC,GAAiD,IAAD,IAA9CxB,QAAWC,EAAmC,EAAnCA,KAAMC,EAA6B,EAA7BA,KAAWhB,GAAkB,EAAvBiB,KAAuB,EAAlBjB,MAE7CkB,GAAsB,EAS1B,OAJIF,IAP+D,EAAXlB,KAK/BqB,SAGvBD,GAAsB,GAGjBA,EACL,qBAAK9B,UAAU,8BAAf,SACE,sBAAKA,UAAU,qCAAf,UACE,mBAAGgD,KAAI,kBAAa9C,UAAb,kCAAiFA,YAAjF,YAAyHyB,GAAhI,SACE,qBAAK3B,UAAU,eAAgBC,IAAG,kBAAeC,UAAf,kCAAmFA,YAAnF,YAA2HyB,GAASxB,IAAK8C,EAAkBtB,GAAOwB,OAAO,aAE3M,qBAAKnD,UAAY,qBAAjB,SACA,mBAAGA,UAAY,sBAAf,SAAsCuC,EAAc3B,YAK1D,qBAAKZ,UAAU,gCAAf,SACE,sBAAKA,UAAU,sCAAf,UACA,mBAAGA,UAAU,WAAb,SAAyB4B,IACvB,mBAAGoB,KAAI,kBAAa9C,UAAb,kCAAiFA,YAAjF,YAAyHyB,GAAhI,SACA,qBAAK3B,UAAU,eAAgBC,IAAG,kBAAeC,UAAf,kCAAmFA,YAAnF,YAA2HyB,GAASxB,IAAK8C,EAAkBtB,GAAOwB,OAAO,aAE3M,qBAAKnD,UAAY,wBAAjB,SACE,mBAAGA,UAAY,mBAAf,SAAmCuC,EAAc3B,cCgD5CwC,G,OA3EE,SAAC,GAAwC,IAAtCC,EAAqC,EAArCA,SAAU3C,EAA2B,EAA3BA,KAAM4C,EAAqB,EAArBA,QAAS3D,EAAY,EAAZA,OAiB3C,OACE,eAAC,IAAD,CAAgBK,UAAU,WAA1B,UAhBgB,IAAZsD,EACK,KAGL,qBACEtD,UAAU,oBACVI,QAAO,uCAAE,WAAOC,GAAP,SAAAC,EAAA,sDACPX,EAAO4D,KAAK,WAAYD,GADjB,2CAAF,sDAFT,SAME,mBAAGtD,UAAU,WAAb,mCAQHqD,EAAS5C,KAAI,SAACiB,EAAS8B,GACtB,IAAI7B,EACJ,OAAQD,EAAQG,MACd,IAAK,OAEDF,EADQ,IAAN6B,EAEA,gCACE,uBACC,cAAC,EAAD,CAAS9B,QAASA,EAAShB,KAAMA,MAF1B8C,GAOV,8BAAc,cAAC,EAAD,CAAS9B,QAASA,EAAShB,KAAMA,KAArC8C,GAGd,MACF,IAAK,OAED7B,EADQ,IAAN6B,EAEA,gCACE,uBACC,cAAC,EAAD,CAAU9B,QAASA,EAAShB,KAAMA,MAF3B8C,GAOV,8BAAc,cAAC,EAAD,CAAU9B,QAASA,EAAShB,KAAMA,KAAtC8C,GAGd,MACF,IAAK,QAED7B,EADQ,IAAN6B,EAEA,gCACE,uBACC,cAAC,EAAD,CAAa9B,QAASA,EAAShB,KAAMA,MAF9B8C,GAOV,8BACG,cAAC,EAAD,CAAa9B,QAASA,EAAShB,KAAMA,KAD9B8C,GASlB,OAAO7B,U,gCClDA8B,G,mNAxBfC,KAAM,SAACC,GACPA,EAAMC,iBACL,EAAKC,MAAMC,a,uDAGA,IAAD,OACP,OACE,sBAAM9D,UAAU,UAAhB,SACE,sBAAKA,UAAU,qBAAf,UACE,qBAAKA,UAAU,aAAaC,IAAKU,EAAYR,IAAI,gBACjD,qBACEH,UAAU,gBACVI,QAAO,uCAAE,WAAOC,GAAP,SAAAC,EAAA,sDACP,EAAKoD,KAAKrD,GADH,2CAAF,sDAGPE,MAAO,CAAEC,OAAQ,WALnB,UAOGuD,KAAKF,MAAMG,KAPd,MAOuBD,KAAKF,MAAMI,WAPlC,gB,GAZYC,c,SCAlBC,G,QAAgB,GA+ILC,E,4MAzFbC,oB,uCAAsB,WAAOhE,GAAP,eAAAC,EAAA,sDAChBgE,EAAaC,SAASC,uBAAuB,SACjD,EAAKX,MAAMY,eAAe,QAC1BH,EAAW,GAAGI,QACdC,QAAQC,IAAIN,GACZ,EAAKT,MAAMgB,WAAW,IACtB,EAAKhB,MAAMiB,YAAYzE,GANH,2C,wDAStB0E,gB,uCAAkB,WAAOpB,GAAP,SAAArD,EAAA,sDAChB,EAAK0E,cAAcrB,EAAMR,OAAO8B,OADhB,2C,wDAKlBD,c,uCAAgB,WAAOC,GAAP,SAAA3E,EAAA,sDACT6D,EAQHe,MAAM,2OAPFD,EAAM,GAAGE,KAAO,SAClBD,MAAM,6HAEN,EAAKrB,MAAMuB,gBAAgBH,GAC3B,EAAKI,WAAWJ,EAAM,KANZ,2C,wDAehBK,kBAAoB,SAAC3B,GACnB,IAAI4B,GAAS5B,EAAM6B,eAAiB7B,EAAM8B,cAAcD,eACrDD,MAEH,IAAK,IAAIG,KADTf,QAAQC,IAAIe,KAAKC,UAAUL,IACTA,EAAO,CACvB,IAAIM,EAAON,EAAMG,GACjB,GAAkB,SAAdG,EAAKC,KAAiB,CACxB,IAEIC,EAAQ,CAFDF,EAAKG,aAGhB,EAAKhB,cAAce,M,kGA3FRE,G,+FAEb,sKACIC,E,kBAAoBhG,U,kCADxB,uKAGIiG,EAAoB,IAAIC,IAAkBF,GAE1CG,EAAkBF,EAAkBG,mBACxCpG,aAGIuC,EAAWwD,EAAKvF,KAAKgC,UAAU,EAAGuD,EAAKvF,KAAKiC,YAAY,MACxDC,EAAMqD,EAAKvF,KAAKgC,UAAUuD,EAAKvF,KAAKiC,YAAY,MAChD4D,EAAW9D,EAAW,KAAM,IAAI3B,MAAO0F,UAAY5D,EACnD6D,EAAkBJ,EAAgBK,mBAAmBH,GAE3DpC,GAAgB,EACZtC,EAAOoE,EAAKpE,K,UACiB4E,EAAgBE,WAAWV,G,QAAtDW,E,OAENzC,GAAgB,EAEL,cAATtC,GACS,cAATA,GACS,eAATA,GACS,cAATA,GACS,eAATA,GACS,kBAATA,EAEAkC,KAAKF,MAAMY,eAAe,SAE1BV,KAAKF,MAAMY,eAAe,QAG5BV,KAAKF,MAAMgD,YAAYN,GACvBxC,KAAKF,MAAMiD,WACX/C,KAAKF,MAAMY,eAAe,SACtBsC,EAASxC,SAASyC,cAAc,eAC7BC,MAAQ,GACXF,EAAOE,QACTF,EAAOlF,KAAO,OACdkF,EAAOlF,KAAO,QAEhBkC,KAAKF,MAAMuB,gBAAgB,MAC3BrB,KAAKF,MAAMqD,UAAU,GAErBvC,QAAQC,IAAR,4BACuBqB,EAAKvF,KAD5B,iBAEEkG,EAAmBO,iB,uIAgDb,IAAD,OACP,OACE,uBAAMnH,UAAU,OAAhB,UACE,uBACEA,UAAU,QACV6B,KAAK,OACLuF,YAAY,oBACZH,MAAOlD,KAAKF,MAAMnC,QAClB2F,WAAY,SAAC1D,GAAD,MACI,UAAdA,EAAM2D,IAAkB,EAAKjD,oBAAoBV,GAAS,MAE5D4D,SAAU,gBAAaN,EAAb,EAAG9D,OAAU8D,MAAb,OAA2B,EAAKpD,MAAMgB,WAAWoC,IAC3DO,QAAS,SAACnH,GAAD,OAAO,EAAKiF,kBAAkBjF,MAEzC,uBACEwB,KAAK,OACL4F,OAAO,SACPzH,UAAU,YACVuH,SAAUxD,KAAKgB,kBAEjB,qBACA9E,IAAKC,iDACLC,IAAI,YACFI,MAAO,CAAEC,OAAQ,WACjBJ,QAAS,SAACC,GACUkE,SAASyC,cAAc,cAC/BU,SAEZ1H,UAAU,oBAGZ,qBACEC,IAAKC,0CACLC,IAAI,OACJI,MAAO,CAAEC,OAAQ,WACjBR,UAAU,aACVI,QAAO,uCAAE,WAAOC,GAAP,SAAAC,EAAA,sDACP,EAAK+D,oBAAoBhE,GADlB,2CAAF,+D,GArIG6D,aCsBLyD,G,OAtBG,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,aACbC,EAAU,YAAOD,GAEvB,OACE,8BACE,qBAAK5H,UAAU,qBAAf,SACE,qBAAKA,UAAU,qBAAf,SACG6H,EAAWpH,KAAI,SAACqH,GAAD,OACd,sBAA0B9H,UAAU,WAApC,UACE,4BAAsC8H,EAAEpH,MAAhCoH,EAAEC,aAAe,IAAIjH,MAC7B,sBAAKkH,GAAG,mBAAR,UACE,mBAAGhI,UAAU,6CACb,sBAAMA,UAAU,UAAhB,6BAJM8H,EAAEC,yB,oCXCpBE,G,OAAiB,GAEjBC,GAAS,EAuMEC,EApMF,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAAe,EACWC,mBAAS,MADpB,mBACtBT,EADsB,KACRxC,EADQ,OAEDiD,mBAAS,GAFR,mBAEtBC,EAFsB,KAEdpB,EAFc,OAGSmB,mBAAS,QAHlB,mBAGtBE,EAHsB,KAGT9D,EAHS,OAIG4D,mBAAS,IAJZ,mBAItB7F,EAJsB,KAIZqE,EAJY,OAKSwB,mBAAS,IAAIvH,MALtB,mBAKtB0H,EALsB,KAKTC,EALS,OAMLJ,mBAAS,IANJ,mBAMtB3H,EANsB,KAMhBgI,EANgB,OAOLL,mBAAS,IAPJ,mBAOtBrE,EAPsB,KAOhB2E,EAPgB,OAQHN,mBAAS,IARN,mBAQtBvI,EARsB,KAQf8I,EARe,QASCP,mBAAS,IATV,qBAStB3G,GATsB,MASbmD,GATa,SAUGwD,mBAAS,IAVZ,qBAUtBhF,GAVsB,MAUZwF,GAVY,SAWIC,IAAMT,UAAS,GAXnB,qBAWtBU,GAXsB,MAWTC,GAXS,MAmB7B,SAASjJ,KACPiJ,IAAU,GAEZ,IAAMC,GAAW/I,sCAEjBgJ,qBAAU,WAAO,IAAD,EAC0BC,IAAYC,MAAMhB,EAASiB,QAA3D3I,EADM,EACNA,KAAMsD,EADA,EACAA,KAAMsF,EADN,EACMA,QAASC,EADf,EACeA,QAC7B5J,EAAS6J,IAAGP,KACL1F,KAAK,OAAQ,CAAE7C,OAAM4I,UAASC,WAAU,SAACE,GAC1CA,GACFvE,MAAM,oHAGVtF,EAAWc,EACXiE,QAAQC,IAAIZ,GACZ2E,EAAQ3E,GACR0E,EAAQhI,GAERf,EAAO+J,GAAG,gBAAgB,YAAwB,IAArBrG,EAAoB,EAApBA,SAAUsG,EAAU,EAAVA,IACrC1B,EAAiB0B,EACjBd,GAAY,IACZ,IAH+C,eAGtCrF,GAHsC,MAIDH,EAASG,GAA/C9C,EAJuC,EAIvCA,KAAMiB,EAJiC,EAIjCA,KAAM4G,EAJ2B,EAI3BA,YAAaqB,EAJc,EAIdA,SAC/Bf,IAAY,SAACxF,GAAD,4BACPA,GADO,CAEV,CACEzB,KAAMlB,EACNiB,KAAMA,EACNE,KAAM0G,EACN3H,KAAMgJ,SARHpG,EAAI,EAAGA,EAAIH,EAASR,OAAQW,IAAM,EAAlCA,QAaV,CAACyF,GAAUb,EAASiB,SAEvBH,qBAAU,WACRvJ,EAAO+J,GAAG,UAAV,uCAAqB,WAAOhI,GAAP,SAAApB,EAAA,sDACnBuI,IAAY,SAACxF,GAAD,4BAAkBA,GAAlB,CAA4B3B,OACxCiD,QAAQC,IAAIlD,EAAQE,KAAO,IAAMhC,GAC7B8B,EAAQE,OAAShC,GACP2E,SAASsF,eAAe,UAC9BC,OALW,2CAArB,uDASAnK,EAAO+J,GAAG,sBAAsB,YAAuB,IAApBhI,EAAmB,EAAnBA,QAASiI,EAAU,EAAVA,IAC1C1B,EAAiB0B,EACjB,IAFoD,eAE3CnG,GAF2C,MAGN9B,EAAQ8B,GAA9C9C,EAH4C,EAG5CA,KAAMiB,EAHsC,EAGtCA,KAAM4G,EAHgC,EAGhCA,YAAaqB,EAHmB,EAGnBA,SAC/Bf,IAAY,SAACxF,GAAD,OACV,CACEzB,KAAMlB,EACNiB,KAAMA,EACNE,KAAM0G,EACN3H,KAAMgJ,IALE,mBAOPvG,QATEG,EAAI9B,EAAQmB,OAAS,EAAGW,GAAK,EAAGA,IAAM,EAAtCA,GAYTqF,IAAY,SAACxF,GAAD,4BAAkB3B,GAAlB,YAA8B2B,UAG5C1D,EAAO+J,GAAG,QAAQ,SAAChI,IACjBmH,IAAY,SAACxF,GAAD,4BAAkBA,GAAlB,CAA4B3B,OACpCA,EAAQE,OAAShC,IACP2E,SAASsF,eAAe,UAC9BC,UAIVnK,EAAO+J,GAAG,YAAY,YAAgB,IAAb5J,EAAY,EAAZA,MACvB8I,EAASmB,IAAEC,QAAQlK,EAAM,cAE1B,IAEHmK,OAAOC,iBAAiB,UAAU,WACN,IAAtBD,OAAOE,WACLjC,IACFA,GAAS,EAETvI,EAAO4D,KAAK,WAAY,CAAE6G,QAAQ,KAG/BlC,IACHA,GAAS,EACTvI,EAAO4D,KAAK,WAAY,CAAE6G,QAAQ,QAKxC,IAAMtF,GAAW,uCAAG,WAAOnB,GAAP,SAAArD,EAAA,sDAClBqD,EAAMC,iBACFlC,KACF/B,EAAO4D,KAAK,cAAe,CAAE7B,WAAS6G,cAAaC,gBAAe,WAChE3D,GAAW,OAGDN,SAASsF,eAAe,SAC9BC,QARU,2CAAH,sDA0BjB,OACE,sBAAK9J,UAAU,iBAAf,UACE,uBACEqK,QAAQ,WACRrC,GAAG,QACH/H,IAAI,4CAEN,uBACEoK,QAAQ,WACRrC,GAAG,SACH/H,IAAI,6CAGN,sBAAKD,UAAU,YAAf,UACE,cAAC,IAAD,CACEsK,OAAQvB,GACRwB,eAAgBxK,GAEhByK,aAAa,gBACbC,aAAa,EALf,SAOE,cAAC,EAAD,CAAe3K,MAAOA,EAAOC,WAAcA,OAE7C,cAAC,EAAD,CAASiE,KAAMA,EAAMC,WAAYnE,EAAM+C,OAAQiB,UAhJrD,WACEkF,IAAU,MAgJN,cAAC,EAAD,CACE3F,SAAUA,GACV3C,KAAMA,EACN4C,QAAS2E,EACTtI,OAAQA,IAGTiI,GACC,cAAC,IAAM8C,SAAP,UACE,cAAC,EAAD,CACE9C,aAAcA,EACdxC,gBAAiBA,EACjBkD,OAAQA,MAId,cAAC,EAAD,CACE5G,QAASA,GACTc,SAAUA,EACVqE,YAAaA,EACb4B,eAAgBA,EAChB3B,SA5DS,WAEXtE,GACF7C,EAAO4D,KACL,cACA,CAAE7B,QAASc,EAAU+F,cAAaC,gBAClC,WACE3B,EAAY,OAINtC,SAASsF,eAAe,SAC9BC,QAiDAjF,WAAYA,GACZC,YAAaA,GACb8C,aAAcA,EACdxC,gBAAiBA,EACjBkD,OAAQA,EACRpB,UAAWA,EACXqB,YAAaA,EACb9D,eAAgBA,WYpMXkG,EANH,kBACV,cAAC,IAAD,UACE,cAAC,IAAD,CAAOC,KAAK,IAAIC,OAAK,EAACC,UAAW3C,OCHrC4C,IAASC,OAAO,cAAC,EAAD,IAASzG,SAASyC,cAAc,W","file":"static/js/main.2d56a23f.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport queryString from \"query-string\";\r\nimport io from \"socket.io-client\";\r\nimport TextContainer from \"../TextContainer/TextContainer\";\r\nimport Messages from \"../Messages/Messages\";\r\nimport InfoBar from \"../InfoBar/InfoBar\";\r\nimport Input from \"../Input/Input\";\r\nimport FileSpawn from \"../FileSpawn/FileSpawn\";\r\nimport Modal from \"react-modal\";\r\nimport _ from \"lodash\"\r\n\r\nimport \"./Chat.css\";\r\n\r\nlet socket;\r\nlet curLoadedcount = 0;\r\nlet userName;\r\nlet IsOpen = true;\r\n\r\n\r\nconst Chat = ({ location }) => {\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [loaded, setLoaded] = useState(0);\r\n  const [messageType, setMessageType] = useState(\"text\");\r\n  const [fileName, setFileName] = useState(\"\");\r\n  const [messageDate, setMessageDate] = useState(new Date());\r\n  const [name, setName] = useState(\"\");\r\n  const [room, setRoom] = useState(\"\");\r\n  const [users, setUsers] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n  const [messages, setMessages] = useState([]);\r\n  const [modalIsOpen, setIsOpen] = React.useState(false);\r\n\r\n\r\n\r\n  function openModal() {\r\n    setIsOpen(true);\r\n  }\r\n\r\n  function closeModal() {\r\n    setIsOpen(false);\r\n  }\r\n  const ENDPOINT = process.env.REACT_APP_API_URL;\r\n\r\n  useEffect(() => {\r\n    const { name, room, room_id, secret } = queryString.parse(location.search);\r\n    socket = io(ENDPOINT);\r\n    socket.emit(\"join\", { name, room_id, secret }, (error) => {\r\n      if (error) {\r\n        alert(\"Помилка авторизації\");\r\n      }\r\n    });\r\n    userName = name;\r\n    console.log(room);\r\n    setRoom(room);\r\n    setName(name);\r\n\r\n    socket.on(\"display-chat\", ({ messages, col }) => {\r\n      curLoadedcount = col;\r\n      setMessages([]);\r\n      for (let i = 0; i < messages.length; i++) {\r\n        let { name, text, messageType, sendDate } = messages[i];\r\n        setMessages((messages) => [\r\n          ...messages,\r\n          {\r\n            user: name,\r\n            text: text,\r\n            type: messageType,\r\n            date: sendDate,\r\n          },\r\n        ]);\r\n      }\r\n    });\r\n  }, [ENDPOINT, location.search]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"message\", async (message) => {\r\n      setMessages((messages) => [...messages, message]);\r\n      console.log(message.user + \" \" + userName);\r\n      if (message.user !== userName) {\r\n        let audio = document.getElementById(\"output\");\r\n        audio.play();\r\n      }\r\n    });\r\n\r\n    socket.on(\"loaded-old-message\", ({ message, col }) => {\r\n      curLoadedcount = col;\r\n      for (let i = message.length - 1; i >= 0; i--) {\r\n        let { name, text, messageType, sendDate } = message[i];\r\n        setMessages((messages) => [\r\n          {\r\n            user: name,\r\n            text: text,\r\n            type: messageType,\r\n            date: sendDate,\r\n          },\r\n          ...messages,\r\n        ]);\r\n      }\r\n      setMessages((messages) => [...message, ...messages]);\r\n    });\r\n\r\n    socket.on(\"file\", (message) => {\r\n      setMessages((messages) => [...messages, message]);\r\n      if (message.user !== userName) {\r\n        let audio = document.getElementById(\"output\");\r\n        audio.play();\r\n      }\r\n    });\r\n\r\n    socket.on(\"roomData\", ({ users }) => {\r\n      setUsers(_.unionBy(users,\"name\"));\r\n    });\r\n  }, []);\r\n\r\n  window.addEventListener(\"resize\", function () {\r\n    if (window.innerWidth === 0) {\r\n      if (IsOpen) {\r\n        IsOpen = false;\r\n\r\n        socket.emit(\"setOpend\", { status: false });\r\n      }\r\n    } else {\r\n      if (!IsOpen) {\r\n        IsOpen = true;\r\n        socket.emit(\"setOpend\", { status: true });\r\n      }\r\n    }\r\n  });\r\n\r\n  const sendMessage = async (event) => {\r\n    event.preventDefault();\r\n    if (message) {\r\n      socket.emit(\"sendMessage\", { message, messageType, messageDate }, () => {\r\n        setMessage(\"\");\r\n      });\r\n\r\n      let audio = document.getElementById(\"input\");\r\n      audio.play();\r\n    }\r\n  };\r\n  const sendFile = (/*event*/) => {\r\n    /*  event.persist();*/\r\n    if (fileName) {\r\n      socket.emit(\r\n        \"sendMessage\",\r\n        { message: fileName, messageType, messageDate },\r\n        () => {\r\n          setFileName(\"\");\r\n        }\r\n      );\r\n    }\r\n    let audio = document.getElementById(\"input\");\r\n    audio.play();\r\n  };\r\n\r\n  return (\r\n    <div className=\"outerContainer\">\r\n      <audio\r\n        preload=\"metadata\"\r\n        id=\"input\"\r\n        src=\"https://sumy.in.ua/mix_sounds/input.mp3\"\r\n      ></audio>\r\n      <audio\r\n        preload=\"metadata\"\r\n        id=\"output\"\r\n        src=\"https://sumy.in.ua/mix_sounds/output.mp3\"\r\n      ></audio>\r\n\r\n      <div className=\"container\">\r\n        <Modal\r\n          isOpen={modalIsOpen}\r\n          onRequestClose={closeModal}\r\n        \r\n          contentLabel=\"Example Modal\"\r\n          ariaHideApp={false}\r\n        >\r\n          <TextContainer users={users} closeModal = {closeModal}/>\r\n        </Modal>\r\n        <InfoBar room={room} userscount={users.length} openModal={openModal}/>\r\n        <Messages\r\n          messages={messages}\r\n          name={name}\r\n          loadOld={curLoadedcount}\r\n          socket={socket}\r\n        />\r\n\r\n        {selectedFile && (\r\n          <React.Fragment>\r\n            <FileSpawn\r\n              selectedFile={selectedFile}\r\n              setSelectedFile={setSelectedFile}\r\n              loaded={loaded}\r\n            />\r\n          </React.Fragment>\r\n        )}\r\n        <Input\r\n          message={message}\r\n          fileName={fileName}\r\n          setFileName={setFileName}\r\n          setMessageDate={setMessageDate}\r\n          sendFile={sendFile}\r\n          setMessage={setMessage}\r\n          sendMessage={sendMessage}\r\n          selectedFile={selectedFile}\r\n          setSelectedFile={setSelectedFile}\r\n          loaded={loaded}\r\n          setLoaded={setLoaded}\r\n          messageType={messageType}\r\n          setMessageType={setMessageType}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chat;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAABN2lDQ1BBZG9iZSBSR0IgKDE5OTgpAAAokZWPv0rDUBSHvxtFxaFWCOLgcCdRUGzVwYxJW4ogWKtDkq1JQ5ViEm6uf/oQjm4dXNx9AidHwUHxCXwDxamDQ4QMBYvf9J3fORzOAaNi152GUYbzWKt205Gu58vZF2aYAoBOmKV2q3UAECdxxBjf7wiA10277jTG+38yH6ZKAyNguxtlIYgK0L/SqQYxBMygn2oQD4CpTto1EE9AqZf7G1AKcv8ASsr1fBBfgNlzPR+MOcAMcl8BTB1da4Bakg7UWe9Uy6plWdLuJkEkjweZjs4zuR+HiUoT1dFRF8jvA2AxH2w3HblWtay99X/+PRHX82Vun0cIQCw9F1lBeKEuf1UYO5PrYsdwGQ7vYXpUZLs3cLcBC7dFtlqF8hY8Dn8AwMZP/fNTP8gAAAAJcEhZcwAACxMAAAsTAQCanBgAAATtaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA2LjAtYzAwMiA3OS4xNjQ0NjAsIDIwMjAvMDUvMTItMTY6MDQ6MTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4yIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMTAtMDlUMTc6NDk6NTArMDM6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTEwLTI2VDEzOjU3OjA2KzAyOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTEwLTI2VDEzOjU3OjA2KzAyOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpiNGMzMGI0Mi0xZDNkLTgxNGMtODhhZS0wYmQ4MTI5YTFmMDciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6YjRjMzBiNDItMWQzZC04MTRjLTg4YWUtMGJkODEyOWExZjA3IiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YjRjMzBiNDItMWQzZC04MTRjLTg4YWUtMGJkODEyOWExZjA3Ij4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpiNGMzMGI0Mi0xZDNkLTgxNGMtODhhZS0wYmQ4MTI5YTFmMDciIHN0RXZ0OndoZW49IjIwMjAtMTAtMDlUMTc6NDk6NTArMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMS4yIChXaW5kb3dzKSIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4EsltfAAAAhElEQVQImVXBsQ2CUBSG0e+/8B7GhMTOAaxsrd1AWYE17ChIXMEBaOy1snUQwhAmGMF3rT1HW3/E+XZvXdQS4NYV1aHJVrvVOb2/Jx+n0hOlcu3T0MfcoeYzwTSDOwmhZajN+acgIGFyOiQIGUhgBqN32fraPn3oI4uwsSJ/mbjE6tj8AOG/K/W6cNxkAAAAAElFTkSuQmCC\"","import React from \"react\";\r\nimport onlineIcon from \"../../icons/onlineIcon.png\";\r\n\r\nimport \"./TextContainer.css\";\r\n\r\nconst TextContainer = ({ users, closeModal }) => {\r\n  return (\r\n    <div className=\"textContainer\">\r\n      <img\r\n        src={process.env.PUBLIC_URL + \"/clear-white-36dp.svg\"}\r\n        alt=\"cross\"\r\n        className=\"closeModalWin\"\r\n        onClick={async (e) => {\r\n          closeModal();\r\n        }}\r\n        style={{ cursor: \"pointer\" }}\r\n      />\r\n      {users ? (\r\n        <div>\r\n          <h1>Онлайн:</h1>\r\n          <div className=\"activeContainer\">\r\n            <h2>\r\n              {users.map(({ name }) => (\r\n                <div key={name} className=\"activeItem\">\r\n                  {name}\r\n                  <img alt=\"Online Icon\" src={onlineIcon} />\r\n                </div>\r\n              ))}\r\n            </h2>\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\nexport default TextContainer;\r\n","// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (date)=> {\r\n    let out;\r\n    let oldDate = new Date(date);\r\n    let currentDate = new Date();\r\n    if(oldDate.getFullYear() === currentDate.getFullYear()){\r\n        if(oldDate.getMonth() === currentDate.getMonth() && oldDate.getDay() === currentDate.getDay()){\r\n          out = oldDate.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});\r\n        }else{\r\n          out = oldDate.toLocaleTimeString([], {day: '2-digit',month: 'short' , hour: '2-digit', minute:'2-digit'});\r\n        }\r\n    }else{\r\n      out = oldDate.toLocaleTimeString([], {day: '2-digit',month: 'short' , hour: '2-digit', year: 'numeric', minute:'2-digit'});\r\n    }\r\n\r\n    return out;\r\n}","import React from \"react\";\r\n\r\nimport \"./Message.css\";\r\nimport dateFormatter from \"../../Additions/dateFormatter.js\";\r\nimport ReactHtmlParser from 'react-html-parser';\r\n\r\nconst Message = ({ message: { text, user, type, date }, name }) => {\r\n  let isSentByCurrentUser = false;\r\n\r\n  const trimmedName = name.trim();\r\n\r\n  if (user === trimmedName) {\r\n    isSentByCurrentUser = true;\r\n  }\r\n\r\n  const findUrl = (textToFind) => {\r\n    var urlRegex = /((?:(?:https?|ftp|gopher|telnet|file|notes|ms-help):(?:\\/\\/|\\\\\\\\)(?:www\\.)?|www\\.)[\\w\\d:#@%/;$()~_?+,\\-=\\\\.&]+)/gi;\r\n\r\n    let out = textToFind.replace(urlRegex, function (url) {\r\n      let old = url;\r\n      let out = url.replace(\"https\",'');\r\n      out = url.replace(\"http\",'');\r\n      out = url.replace(\"www\",'//www');\r\n      return '<a class=\"lightBlueLink\" href=\"' + out + '\" target=\"_blank\">' + old + '</a>';\r\n    });\r\n\r\n\r\n    return ReactHtmlParser(out);\r\n  };\r\n\r\n  return isSentByCurrentUser ? (\r\n    <div className=\"messageContainer justifyEnd\">\r\n      <div className=\"messageBox backgroundBlue\">\r\n        <p className=\"messageText current colorWhite\">\r\n        {findUrl(text)}\r\n        </p>\r\n        <div className=\"date\">\r\n          <p className=\"timeText colorWhite\">{dateFormatter(date)}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    <div className=\"messageContainer justifyStart\">\r\n      <div className=\"messageBox backgroundLight\">\r\n        <p className=\"sentText\">{user}</p>\r\n        <p className=\"messageText  colorDark\">{findUrl(text)}</p>\r\n        <div className=\"date \">\r\n          <p className=\"timeText protest\">{dateFormatter(date)}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n","// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (fileName) => {\r\n\r\n    let filename = fileName.substring(0, fileName.lastIndexOf('_'))\r\n    let ext = fileName.substring(fileName.lastIndexOf('.'))\r\n\r\n    if (filename.length > 12) {\r\n      filename =\r\n      filename.slice(0, 12) + \"...\" ;\r\n    } \r\n\r\n\r\n    let blobName = filename + ext\r\n\r\n\r\n    return blobName;\r\n  };","import React from \"react\";\r\n\r\nimport \"./FileSave.css\";\r\nimport dateFormatter from \"../Additions/dateFormatter.js\"\r\nimport fileNameFormatter from \"../Additions/fileNameFormatter.js\"\r\n\r\nconst FileSave = ({ message: { text, user,type,date }, name }) => {\r\n\r\n  let isSentByCurrentUser = false;\r\n\r\n  const trimmedName = name.trim()\r\n\r\n  if (user === trimmedName) {\r\n    isSentByCurrentUser = true;\r\n  }\r\n\r\n  return isSentByCurrentUser ? (\r\n    <div className=\"messageContainer justifyEnd\">\r\n\r\n      <div className=\"messageBox backgroundBlue\">\r\n        <a href={`https://${process.env.REACT_APP_STORAGE_ACCOUNT_NAME}.blob.core.windows.net/${process.env.REACT_APP_CONTAINER_NAME}/${text}`}>\r\n          <nobr>\r\n            <p className=\"messageText colorWhite\">\r\n              {\" \"}\r\n              <i className=\"fa fa-file fileIcon\"></i>\r\n              {fileNameFormatter(text)}\r\n            </p>\r\n          </nobr>\r\n        </a>\r\n        <div className = \"date\">\r\n          <p className = \"timeText colorWhite\">{dateFormatter(date)}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    <div className=\"messageContainer justifyStart\">\r\n      <div className=\"messageBox backgroundLight\">\r\n      <p className=\"sentText\">{user}</p>\r\n        <a href={`https://${process.env.REACT_APP_STORAGE_ACCOUNT_NAME}.blob.core.windows.net/${process.env.REACT_APP_CONTAINER_NAME}/${text}`}>\r\n          <nobr>\r\n            <p className=\"messageText colorDark\">\r\n              {\" \"}\r\n              <i className=\"fa fa-file fileIcon\"></i>\r\n              {fileNameFormatter(text)}\r\n            </p>\r\n          </nobr>\r\n        </a>\r\n        <div className = \"date \">\r\n          <p className = \"timeText protest\">{dateFormatter(date)}</p>\r\n        </div>\r\n      </div>\r\n   \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FileSave;\r\n","import React from \"react\";\r\n\r\nimport \"./ImageShower.css\";\r\nimport dateFormatter from \"../Additions/dateFormatter.js\"\r\nimport fileNameFormatter from \"../Additions/fileNameFormatter.js\"\r\n\r\n// eslint-disable-next-line react/prop-types\r\nconst ImageShower = ({ message: { text, user ,type,date}, name }) => {\r\n\r\n  let isSentByCurrentUser = false;\r\n\r\n  // eslint-disable-next-line react/prop-types\r\n  const trimmedName = name.trim()\r\n\r\n  if (user === trimmedName) {\r\n    isSentByCurrentUser = true;\r\n  }\r\n\r\n  return isSentByCurrentUser ? (\r\n    <div className=\"messageContainer justifyEnd\">\r\n      <div className=\"messageBox backgroundBlue imageBox\">\r\n        <a href={`https://${process.env.REACT_APP_STORAGE_ACCOUNT_NAME}.blob.core.windows.net/${process.env.REACT_APP_CONTAINER_NAME}/${text}`}>\r\n          <img className=\"imagePreview\"  src = {`https://${process.env.REACT_APP_STORAGE_ACCOUNT_NAME}.blob.core.windows.net/${process.env.REACT_APP_CONTAINER_NAME}/${text}` } alt={fileNameFormatter(text)} target=\"_blank\"></img>\r\n          </a>\r\n          <div className = \"date absoluteImage\">\r\n          <p className = \"timeText colorWhite\">{dateFormatter(date)}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    <div className=\"messageContainer justifyStart\">\r\n      <div className=\"messageBox backgroundLight imageBox\">\r\n      <p className=\"sentText\">{user}</p>\r\n        <a href={`https://${process.env.REACT_APP_STORAGE_ACCOUNT_NAME}.blob.core.windows.net/${process.env.REACT_APP_CONTAINER_NAME}/${text}`}>\r\n        <img className=\"imagePreview\"  src = {`https://${process.env.REACT_APP_STORAGE_ACCOUNT_NAME}.blob.core.windows.net/${process.env.REACT_APP_CONTAINER_NAME}/${text}` } alt={fileNameFormatter(text)} target=\"_blank\"></img>\r\n        </a>\r\n        <div className = \"date protestImageDate\">\r\n          <p className = \"timeText protest\">{dateFormatter(date)}</p>\r\n        </div>\r\n\r\n      </div>\r\n   \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageShower;\r\n","import React from \"react\";\r\n\r\nimport ScrollToBottom from \"react-scroll-to-bottom\";\r\n\r\nimport Message from \"./Message/Message\";\r\nimport FileSave from \"./../FileSave/FileSave\";\r\nimport ImageShower from \"./../ImageShower/ImageShower\";\r\n\r\nimport \"./Messages.css\";\r\n\r\nconst Messages = ({ messages, name, loadOld, socket}) => {\r\n  const addBtn = () => {\r\n    if (loadOld === 0) {\r\n      return null;\r\n    } else {\r\n      return (\r\n        <div\r\n          className=\"loadOldMessageBtn\"\r\n          onClick={async (e) => {\r\n            socket.emit(\"load-old\", loadOld);\r\n          }}\r\n        >\r\n          <p className=\"loadText\">Load early messages</p>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n  return (\r\n    <ScrollToBottom className=\"messages\">\r\n      {addBtn()}\r\n      {messages.map((message, i) => {\r\n        let text;\r\n        switch (message.type) {\r\n          case \"text\":\r\n            if (i === 0) {\r\n              text = (\r\n                <div key={i}>\r\n                  <br></br>\r\n                  {<Message message={message} name={name} />}\r\n                </div>\r\n              );\r\n            } else {\r\n              text = (\r\n                <div key={i}>{<Message message={message} name={name} />}</div>\r\n              );\r\n            }\r\n            break;\r\n          case \"file\":\r\n            if (i === 0) {\r\n              text = (\r\n                <div key={i}>\r\n                  <br></br>\r\n                  {<FileSave message={message} name={name} />}\r\n                </div>\r\n              );\r\n            } else {\r\n              text = (\r\n                <div key={i}>{<FileSave message={message} name={name} />}</div>\r\n              );\r\n            }\r\n            break;\r\n          case \"image\":\r\n            if (i === 0) {\r\n              text = (\r\n                <div key={i}>\r\n                  <br></br>\r\n                  {<ImageShower message={message} name={name} />}\r\n                </div>\r\n              );\r\n            } else {\r\n              text = (\r\n                <div key={i}>\r\n                  {<ImageShower message={message} name={name} />}\r\n                </div>\r\n              );\r\n            }\r\n            break;\r\n            default:\r\n              break;\r\n        }\r\n        return text;\r\n      })}\r\n    </ScrollToBottom>\r\n  );\r\n};\r\nexport default Messages;\r\n","import React, { Component } from \"react\";\r\nimport onlineIcon from \"../../icons/onlineIcon.png\";\r\n\r\nimport \"./InfoBar.css\";\r\nclass InfoBar extends Component {\r\n\r\ntest =(event) =>{\r\nevent.preventDefault();\r\n this.props.openModal();\r\n}\r\n\r\n  render() {\r\n    return (\r\n      <form className=\"infoBar\">\r\n        <div className=\"leftInnerContainer\">\r\n          <img className=\"onlineIcon\" src={onlineIcon} alt=\"online icon\" />\r\n          <h3\r\n            className=\"onlineBtnOpen\"\r\n            onClick={async (e) => {\r\n              this.test(e);\r\n            }}\r\n            style={{ cursor: \"pointer\" }}\r\n          >\r\n            {this.props.room}  ({this.props.userscount})\r\n          </h3>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\nexport default InfoBar;\r\n","import React, { Component } from \"react\";\r\nimport { BlobServiceClient } from \"@azure/storage-blob\";\r\nimport \"./Input.css\";\r\n\r\nvar fileInLoadKey = false;\r\nclass Input extends Component {\r\n  async uploadFile(file) {\r\n    const SAS_TOKEN =\r\n      \"?sv=2019-12-12&ss=bfqt&srt=sco&sp=rwdlacupx&se=2021-11-30T16:28:17Z&st=2020-11-30T08:28:17Z&spr=https,http&sig=4ArE7Cljg1Kz%2BL%2BVjbTn9%2FHocXhdOqaqgfRtgh6lehk%3D\";\r\n    const sasURL = `https://${process.env.REACT_APP_STORAGE_ACCOUNT_NAME}.blob.core.windows.net/${SAS_TOKEN}`;\r\n\r\n    const blobServiceClient = new BlobServiceClient(sasURL);\r\n\r\n    const containerClient = blobServiceClient.getContainerClient(\r\n      process.env.REACT_APP_CONTAINER_NAME\r\n    );\r\n\r\n    const filename = file.name.substring(0, file.name.lastIndexOf(\".\"));\r\n    const ext = file.name.substring(file.name.lastIndexOf(\".\"));\r\n    const blobName = filename + \"_\" + new Date().getTime() + ext;\r\n    const blockBlobClient = containerClient.getBlockBlobClient(blobName);\r\n\r\n    fileInLoadKey = true;\r\n    let type = file.type;\r\n    const uploadBlobResponse = await blockBlobClient.uploadData(file);\r\n\r\n    fileInLoadKey = false;\r\n    if (\r\n      type === \"image/png\" ||\r\n      type === \"image/gif\" ||\r\n      type === \"image/jpeg\" ||\r\n      type === \"image/svg\" ||\r\n      type === \"image/webp\" ||\r\n      type === \"image/svg+xml\"\r\n    ) {\r\n      this.props.setMessageType(\"image\");\r\n    } else {\r\n      this.props.setMessageType(\"file\");\r\n    }\r\n\r\n    this.props.setFileName(blobName);\r\n    this.props.sendFile();\r\n    this.props.setMessageType(\"text\");\r\n    let inputs = document.querySelector(\".inputFile\");\r\n    inputs.value = \"\";\r\n    if (inputs.value) {\r\n      inputs.type = \"text\";\r\n      inputs.type = \"file\";\r\n    }\r\n    this.props.setSelectedFile(null);\r\n    this.props.setLoaded(0);\r\n\r\n    console.log(\r\n      `Upload block blob ${file.name} successfully`,\r\n      uploadBlobResponse.clientRequestId\r\n    );\r\n  }\r\n\r\n  sendMessageFunction = async (e) => {\r\n    let inputField = document.getElementsByClassName(\"input\");\r\n    this.props.setMessageType(\"text\");\r\n    inputField[0].focus();\r\n    console.log(inputField);\r\n    this.props.setMessage(\"\");\r\n    this.props.sendMessage(e);\r\n  };\r\n\r\n  onChangeHandler = async (event) => {\r\n    this.formatingFile(event.target.files);\r\n  };\r\n\r\n\r\n  formatingFile = async (files) =>{\r\n    if (!fileInLoadKey) {\r\n      if (files[0].size > 52428800) {\r\n        alert(\"Файл занадто великий(max 50mb)\");\r\n      } else {\r\n        this.props.setSelectedFile(files);\r\n        this.uploadFile(files[0]);\r\n      }\r\n    } else {\r\n      alert(\"Дочекайся завантаження попереднього файлу\");\r\n    }\r\n  }\r\n\r\n\r\n\r\n  onKeyboardPressed = (event) => {\r\n    var items = (event.clipboardData || event.originalEvent.clipboardData)\r\n      .items;\r\n    console.log(JSON.stringify(items)); // will give you the mime types\r\n    for (let index in items) {\r\n      var item = items[index];\r\n      if (item.kind === \"file\") {\r\n        var blob = item.getAsFile();\r\n\r\n        let blobs = [blob];\r\n        this.formatingFile(blobs);\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <form className=\"form\">\r\n        <input\r\n          className=\"input\"\r\n          type=\"text\"\r\n          placeholder=\"Type a message...\"\r\n          value={this.props.message}\r\n          onKeyPress={(event) =>\r\n            event.key === \"Enter\" ? this.sendMessageFunction(event) : null\r\n          }\r\n          onChange={({ target: { value } }) => this.props.setMessage(value)}\r\n          onPaste={(e) => this.onKeyboardPressed(e)}\r\n        />\r\n        <input\r\n          type=\"file\"\r\n          hidden=\"hidden\"\r\n          className=\"inputFile\"\r\n          onChange={this.onChangeHandler}\r\n        ></input>\r\n        <img\r\n        src={process.env.PUBLIC_URL + '/attach_file-white-36dp.svg'}\r\n        alt=\"paperclip\"\r\n          style={{ cursor: \"pointer\" }}\r\n          onClick={(e) => {\r\n            const inputFile = document.querySelector(\".inputFile\");\r\n            inputFile.click();\r\n          }}\r\n          className=\"paperClipButton\"\r\n        />\r\n\r\n        <img\r\n          src={process.env.PUBLIC_URL + '/send-black-36dp.svg'}\r\n          alt=\"send\"\r\n          style={{ cursor: \"pointer\" }}\r\n          className=\"sendButton\"\r\n          onClick={async (e) => {\r\n            this.sendMessageFunction(e);\r\n          }}\r\n        ></img>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Input;\r\n","import React from \"react\";\r\n\r\nimport \"./FileSpawn.css\";\r\n\r\n// eslint-disable-next-line react/prop-types\r\nconst FileSpawn = ({ selectedFile }) => {\r\n  const filesArray = [...selectedFile];\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"outerFileContainer\">\r\n        <div className=\"innerFileContainer\">\r\n          {filesArray.map((f) => (\r\n            <div key={f.lastModified} className=\"fileName\">\r\n              <p key={f.lastModified + new Date()}>{f.name}</p>\r\n              <div id=\"cancelFileSelect\">\r\n                <i className=\"fa fa-circle-o-notch fa-spin fa-1x fa-fw\"></i>\r\n                <span className=\"sr-only\">Loading...</span>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FileSpawn;\r\n","import React from \"react\";\r\n\r\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\r\n\r\nimport Chat from \"./components/Chat/Chat\";\r\n\r\nconst App = () => (\r\n  <Router>\r\n    <Route path=\"/\" exact component={Chat} />\r\n  </Router>\r\n);\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.querySelector(\"#root\"));\r\n"],"sourceRoot":""}